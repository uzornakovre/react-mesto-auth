{"ast":null,"code":"import _slicedToArray from\"/Users/uzornakovre/Desktop/WEBDEV/\\u041E\\u0431\\u0443\\u0447\\u0435\\u043D\\u0438\\u0435/\\u042F\\u043D\\u0434\\u0435\\u043A\\u0441 \\u041F\\u0440\\u0430\\u043A\\u0442\\u0438\\u043A\\u0443\\u043C/Practice/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import PopupWithForm from'./PopupWithForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AddPlacePopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onAddPlace=_ref.onAddPlace,isLoading=_ref.isLoading,onOverlayClick=_ref.onOverlayClick;var placeNameRef=React.useRef();var placeLinkRef=React.useRef();var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),placeName=_React$useState2[0],setPlaceName=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),placeLink=_React$useState4[0],setPlaceLink=_React$useState4[1];var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),plNameInputInit=_React$useState6[0],setPlNameInputInit=_React$useState6[1];var _React$useState7=React.useState(false),_React$useState8=_slicedToArray(_React$useState7,2),plLinkInputInit=_React$useState8[0],setPlLinkInputInit=_React$useState8[1];var _React$useState9=React.useState(''),_React$useState10=_slicedToArray(_React$useState9,2),placeNameError=_React$useState10[0],setPlaceNameError=_React$useState10[1];var _React$useState11=React.useState(''),_React$useState12=_slicedToArray(_React$useState11,2),placeLinkError=_React$useState12[0],setPlaceLinkError=_React$useState12[1];var isValid=placeNameError===''&&placeLinkError==='';// Отправка формы\nfunction handleSubmit(evt){evt.preventDefault();onAddPlace({placeName:placeNameRef.current.value,placeLink:placeLinkRef.current.value});placeNameRef.current.value='';placeLinkRef.current.value='';}// Обновление стейтов при открытии модального окна\nReact.useEffect(function(){setPlaceName('');setPlaceLink('');setPlNameInputInit(false);setPlLinkInputInit(false);setPlaceNameError(placeNameRef.current.validationMessage);setPlaceLinkError(placeLinkRef.current.validationMessage);},[isOpen]);// Обработчики изменений полей ввода\nfunction handleChangePlaceName(evt){setPlaceName(evt.target.value);setPlNameInputInit(true);setPlaceNameError(placeNameRef.current.validationMessage);}function handleChangePlaceLink(evt){setPlaceLink(evt.target.value);setPlLinkInputInit(true);setPlaceLinkError(placeLinkRef.current.validationMessage);}return/*#__PURE__*/_jsxs(PopupWithForm,{name:'new-place',title:'Новое место',isOpen:isOpen,onClose:onClose,onSubmit:handleSubmit,isValid:isValid,isLoading:isLoading,onOverlayClick:onOverlayClick,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"popup__form-input popup__form-input_content_place \".concat(plNameInputInit&&placeNameError!==''&&'popup__form-input_error'),id:\"place\",name:\"input_place-name\",placeholder:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\",minLength:\"2\",maxLength:\"30\",value:placeName||'',ref:placeNameRef,onChange:handleChangePlaceName,required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__form-input-error popup__form-input-error_content_place\",children:plNameInputInit&&\"\".concat(placeNameError)}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",className:\"popup__form-input popup__form-input_content_avatar \".concat(plLinkInputInit&&placeLinkError!==''&&'popup__form-input_error'),id:\"url\",name:\"image-url\",placeholder:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0443\",value:placeLink||'',ref:placeLinkRef,onChange:handleChangePlaceLink,required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__form-input-error popup__form-input-error_content_url\",children:plLinkInputInit&&\"\".concat(placeLinkError)})]});}export default AddPlacePopup;","map":{"version":3,"names":["React","PopupWithForm","AddPlacePopup","isOpen","onClose","onAddPlace","isLoading","onOverlayClick","placeNameRef","useRef","placeLinkRef","useState","placeName","setPlaceName","placeLink","setPlaceLink","plNameInputInit","setPlNameInputInit","plLinkInputInit","setPlLinkInputInit","placeNameError","setPlaceNameError","placeLinkError","setPlaceLinkError","isValid","handleSubmit","evt","preventDefault","current","value","useEffect","validationMessage","handleChangePlaceName","target","handleChangePlaceLink"],"sources":["/Users/uzornakovre/Desktop/WEBDEV/Обучение/Яндекс Практикум/Practice/dev/mesto-react/src/components/AddPlacePopup.js"],"sourcesContent":["import React         from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup({ isOpen,\n                         onClose,\n                         onAddPlace,\n                         isLoading,\n                         onOverlayClick }) {\n\n  const placeNameRef                          = React.useRef();\n  const placeLinkRef                          = React.useRef();\n  const [placeName,       setPlaceName      ] = React.useState('');\n  const [placeLink,       setPlaceLink      ] = React.useState('');\n  const [plNameInputInit, setPlNameInputInit] = React.useState(false);\n  const [plLinkInputInit, setPlLinkInputInit] = React.useState(false);\n  const [placeNameError,  setPlaceNameError ] = React.useState('');\n  const [placeLinkError,  setPlaceLinkError ] = React.useState('');\n  const isValid = placeNameError === '' && placeLinkError === '';\n\n  // Отправка формы\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n\n    onAddPlace({ \n      placeName: placeNameRef.current.value,\n      placeLink: placeLinkRef.current.value \n    });\n\n    placeNameRef.current.value = '';\n    placeLinkRef.current.value = '';\n  }\n\n  // Обновление стейтов при открытии модального окна\n\n  React.useEffect(() => {\n    setPlaceName('');\n    setPlaceLink('');\n    setPlNameInputInit(false);\n    setPlLinkInputInit(false);\n    setPlaceNameError(placeNameRef.current.validationMessage);\n    setPlaceLinkError(placeLinkRef.current.validationMessage);\n  }, [isOpen])\n\n  // Обработчики изменений полей ввода\n\n  function handleChangePlaceName(evt) {\n    setPlaceName(evt.target.value);\n    setPlNameInputInit(true);\n    setPlaceNameError(placeNameRef.current.validationMessage);\n  }\n\n  function handleChangePlaceLink(evt) {\n    setPlaceLink(evt.target.value);\n    setPlLinkInputInit(true);\n    setPlaceLinkError(placeLinkRef.current.validationMessage);\n  }\n\n  return (\n    <PopupWithForm name={'new-place'}\n                   title={'Новое место'}\n                   isOpen={isOpen}\n                   onClose={onClose}\n                   onSubmit={handleSubmit}\n                   isValid={isValid}\n                   isLoading={isLoading}\n                   onOverlayClick={onOverlayClick}\n    >\n      <input type=\"text\"\n             className={`popup__form-input popup__form-input_content_place ${\n               plNameInputInit && placeNameError !== '' && 'popup__form-input_error'\n             }`}\n             id=\"place\"\n             name=\"input_place-name\"\n             placeholder=\"Название\"\n             minLength=\"2\"\n             maxLength=\"30\"\n             value={placeName || ''}\n             ref={placeNameRef}\n             onChange={handleChangePlaceName}\n             required\n      />\n      <span className=\"popup__form-input-error popup__form-input-error_content_place\">\n        {plNameInputInit && `${placeNameError}`}\n      </span>\n      <input type=\"url\" \n             className={`popup__form-input popup__form-input_content_avatar ${\n               plLinkInputInit && placeLinkError !== '' && 'popup__form-input_error'\n             }`}\n             id=\"url\"\n             name=\"image-url\"\n             placeholder=\"Ссылка на картинку\"\n             value={placeLink || ''}\n             ref={placeLinkRef}\n             onChange={handleChangePlaceLink}\n             required />\n      <span className=\"popup__form-input-error popup__form-input-error_content_url\">\n        {plLinkInputInit && `${placeLinkError}`}\n      </span>\n    </PopupWithForm>  \n  )\n}\n\nexport default AddPlacePopup;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}