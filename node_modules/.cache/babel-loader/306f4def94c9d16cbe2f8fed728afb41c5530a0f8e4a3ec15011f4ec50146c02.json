{"ast":null,"code":"import _slicedToArray from\"/Users/uzornakovre/Desktop/WEBDEV/\\u041E\\u0431\\u0443\\u0447\\u0435\\u043D\\u0438\\u0435/\\u042F\\u043D\\u0434\\u0435\\u043A\\u0441 \\u041F\\u0440\\u0430\\u043A\\u0442\\u0438\\u043A\\u0443\\u043C/Practice/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import PopupWithForm from'./PopupWithForm';import{CurrentUserContext}from'../contexts/CurrentUserContext.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateUser=_ref.onUpdateUser,isLoading=_ref.isLoading,onOverlayClick=_ref.onOverlayClick;var currentUser=React.useContext(CurrentUserContext);var nameRef=React.useRef();var descRef=React.useRef();var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),name=_React$useState2[0],setName=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),description=_React$useState4[0],setDescription=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),nameError=_React$useState6[0],setNameError=_React$useState6[1];var _React$useState7=React.useState(''),_React$useState8=_slicedToArray(_React$useState7,2),descError=_React$useState8[0],setDescError=_React$useState8[1];var isValid=nameError===''&&descError==='';// Отправка формы\nfunction handleSubmit(evt){evt.preventDefault();onUpdateUser({name:name,about:description});}// Обновление стейтов при открытии модального окна\nReact.useEffect(function(){setName(currentUser.name);setDescription(currentUser.about);setNameError(nameRef.current.validationMessage);setDescError(descRef.current.validationMessage);},[isOpen,currentUser.about,currentUser.name]);// обработчики изменений полей ввода\nfunction handleChangeName(evt){setName(evt.target.value);setNameError(nameRef.current.validationMessage);}function handleChangeDescription(evt){setDescription(evt.target.value);setDescError(descRef.current.validationMessage);}return/*#__PURE__*/_jsxs(PopupWithForm,{name:'edit-profile',title:'Редактировать профиль',isOpen:isOpen,onClose:onClose,onSubmit:handleSubmit,isValid:isValid,isLoading:isLoading,onOverlayClick:onOverlayClick,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"popup__form-input popup__form-input_content_name \".concat(nameError!==''&&'popup__form-input_error'),id:\"name\",name:\"name\",placeholder:\"\\u0418\\u043C\\u044F\",minLength:\"2\",maxLength:\"40\",value:name||'',ref:nameRef,onChange:handleChangeName,required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__form-input-error popup__form-input-error_content_name\",children:nameError}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"popup__form-input popup__form-input_content_job \".concat(descError!==''&&'popup__form-input_error'),id:\"job\",name:\"description\",placeholder:\"\\u041F\\u0440\\u043E\\u0444\\u0435\\u0441\\u0441\\u0438\\u044F\",minLength:\"2\",maxLength:\"200\",value:description||'',ref:descRef,onChange:handleChangeDescription,required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__form-input-error popup__form-input-error_content_job\",children:descError})]});}export default EditProfilePopup;","map":{"version":3,"names":["React","PopupWithForm","CurrentUserContext","EditProfilePopup","isOpen","onClose","onUpdateUser","isLoading","onOverlayClick","currentUser","useContext","nameRef","useRef","descRef","useState","name","setName","description","setDescription","nameError","setNameError","descError","setDescError","isValid","handleSubmit","evt","preventDefault","about","useEffect","current","validationMessage","handleChangeName","target","value","handleChangeDescription"],"sources":["/Users/uzornakovre/Desktop/WEBDEV/Обучение/Яндекс Практикум/Practice/dev/mesto-react/src/components/EditProfilePopup.js"],"sourcesContent":["import React                  from 'react';\nimport PopupWithForm          from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nfunction EditProfilePopup({ isOpen,\n                            onClose,\n                            onUpdateUser,\n                            isLoading,\n                            onOverlayClick }) {\n\n  const currentUser                   = React.useContext(CurrentUserContext);\n  const nameRef                       = React.useRef();\n  const descRef                       = React.useRef();\n  const [name,        setName       ] = React.useState('');\n  const [description, setDescription] = React.useState('');\n  const [nameError,   setNameError  ] = React.useState('');\n  const [descError,   setDescError  ] = React.useState('');\n  const isValid                       = nameError === '' && descError === '';\n\n  // Отправка формы\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateUser({\n      name,\n      about: description\n    });\n  }\n\n  // Обновление стейтов при открытии модального окна\n \n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n    setNameError(nameRef.current.validationMessage);\n    setDescError(descRef.current.validationMessage);\n  }, [isOpen, currentUser.about, currentUser.name]);\n\n  // обработчики изменений полей ввода\n\n  function handleChangeName(evt) {\n    setName(evt.target.value);\n    setNameError(nameRef.current.validationMessage);\n  }\n\n  function handleChangeDescription(evt) {\n    setDescription(evt.target.value);\n    setDescError(descRef.current.validationMessage);\n  }\n\n  return (\n    <PopupWithForm name={'edit-profile'}\n                   title={'Редактировать профиль'}\n                   isOpen={isOpen}\n                   onClose={onClose}\n                   onSubmit={handleSubmit}\n                   isValid={isValid}\n                   isLoading={isLoading}\n                   onOverlayClick={onOverlayClick}\n    >\n      <input type=\"text\"\n             className={`popup__form-input popup__form-input_content_name ${\n               nameError !== '' && 'popup__form-input_error'\n             }`}\n             id=\"name\"\n             name=\"name\"\n             placeholder=\"Имя\"\n             minLength=\"2\"\n             maxLength=\"40\"\n             value={name || ''}\n             ref={nameRef}\n             onChange={handleChangeName}\n             required\n      />\n      <span className=\"popup__form-input-error popup__form-input-error_content_name\">\n        {nameError}\n      </span>\n      <input type=\"text\"\n             className={`popup__form-input popup__form-input_content_job ${\n               descError !== '' && 'popup__form-input_error'\n             }`}\n             id=\"job\"\n             name=\"description\"\n             placeholder=\"Профессия\"\n             minLength=\"2\"\n             maxLength=\"200\"\n             value={description || ''}\n             ref={descRef}\n             onChange={handleChangeDescription}\n             required\n      />\n      <span className=\"popup__form-input-error popup__form-input-error_content_job\">\n        {descError}\n      </span>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}